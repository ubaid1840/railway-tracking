(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{4816:function(e,t,n){Promise.resolve().then(n.bind(n,2278))},2278:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(7437),a=n(2265),s=n(610),i=n(4340),l=n(9386),c=n(5874),o=n(4937),d=n(3682),u=n(5151),m=n(8713),h=n(9506),f=n(9636),x=n(9372),[p,j]=(0,n(2730).k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),b=(0,u.G)((e,t)=>{let n=(0,m.jC)("Table",e),{className:a,layout:s,...i}=(0,h.Lr)(e);return(0,r.jsx)(p,{value:n,children:(0,r.jsx)(f.m.table,{ref:t,__css:{tableLayout:s,...n.table},className:(0,x.cx)("chakra-table",a),...i})})});b.displayName="Table";var g=(0,u.G)((e,t)=>{let n=j();return(0,r.jsx)(f.m.thead,{...e,ref:t,__css:n.thead})}),y=(0,u.G)((e,t)=>{let n=j();return(0,r.jsx)(f.m.tr,{...e,ref:t,__css:n.tr})}),T=(0,u.G)((e,t)=>{let{isNumeric:n,...a}=e,s=j();return(0,r.jsx)(f.m.th,{...a,ref:t,__css:s.th,"data-is-numeric":n})}),v=(0,u.G)((e,t)=>{let n=j();return(0,r.jsx)(f.m.tbody,{...e,ref:t,__css:n.tbody})}),w=(0,u.G)((e,t)=>{let{isNumeric:n,...a}=e,s=j();return(0,r.jsx)(f.m.td,{...a,ref:t,__css:s.td,"data-is-numeric":n})}),S=n(5735),_=n(95),k=n(6463),I=n(947),C=n(9842),D=n(9212),z=n.n(D);function L(){let[e,t]=(0,a.useState)([]),n=(0,s.p)(),u=(0,k.useRouter)(),[m,h]=(0,a.useState)(!0),[f,x]=(0,a.useState)("");async function p(){try{let e=[];await (0,C.PL)((0,C.IO)((0,C.hJ)(_.db,"Data"),(0,C.ar)("email","==",f))).then(t=>{t.forEach(t=>{e.push(t.data())})});let n=e.sort((e,t)=>e.timeStamp-t.timeStamp),r=[];for(let e=0;e<n.length-1;e+=2){let t=n[e],a=n[e+1],s={startTime:t.timeStamp,endTime:a?a.timeStamp:null};r.push(s)}if(n.length%2!=0){let e={startTime:n[n.length-1].timeStamp,endTime:""};r.push(e)}r.reverse(),t(r)}catch(e){n({title:"Failed to fetch data.",description:"Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{h(!1)}}async function j(){(0,S.w7)(_.I).then(()=>{u.push("/")})}return(0,a.useEffect)(()=>{let e=(0,S.Aj)(_.I,async e=>{e?x(e.email):u.push("/")});return()=>{e()}},[]),(0,a.useEffect)(()=>{f&&p()},[f]),(0,r.jsxs)(i.xu,{w:"100%",minH:"100vh",display:"flex",flexDir:"column",alignItems:"center",bg:"gray.900",children:[(0,r.jsxs)(l.U,{w:"100%",justifyContent:"flex-end",p:4,spacing:4,children:[(0,r.jsx)(c.z,{colorScheme:"blue",size:"sm",onClick:()=>u.push("/"),children:"Home"}),(0,r.jsx)(c.z,{colorScheme:"blue",size:"sm",onClick:()=>j(),children:"Logout"})]}),(0,r.jsxs)(o.g,{spacing:8,boxShadow:"2xl",p:8,bg:"gray.800",borderRadius:"xl",w:{sm:"100%",md:"90%",lg:"80%"},textAlign:"center",overflowX:"auto",children:[(0,r.jsx)(d.X,{size:"lg",color:"teal.300",children:"Dashboard"}),(0,r.jsxs)(b,{variant:"simple",colorScheme:"teal",size:"md",minWidth:"100%",children:[(0,r.jsx)(g,{children:(0,r.jsxs)(y,{children:[(0,r.jsx)(T,{children:"Date"}),(0,r.jsx)(T,{children:"Start Time"}),(0,r.jsx)(T,{children:"End Time"}),(0,r.jsx)(T,{children:"Fare"})]})}),(0,r.jsx)(v,{children:e.map((e,t)=>{var n,a;return(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{children:z()(new Date(null==e?void 0:e.startTime)).format("LL")}),(0,r.jsx)(w,{children:z()(new Date(null==e?void 0:e.startTime)).format("LT")}),(0,r.jsx)(w,{children:e.endTime?z()(new Date(null==e?void 0:e.endTime)).format("LT"):""}),(0,r.jsx)(w,{children:(n=e.startTime,(a=e.endTime)?"25"*((a-n)/6e4).toFixed(0):"")})]},t)})})]})]}),m&&(0,r.jsx)(I.Z,{})]})}},947:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437),a=n(6829);function s(){return(0,r.jsx)("div",{style:{display:"flex",minWidth:"100vw",minHeight:"100vh",alignItems:"center",justifyContent:"center",position:"absolute",backgroundColor:"#00000079"},children:(0,r.jsx)(a.$,{color:"orange.300",size:"lg"})})}},95:function(e,t,n){"use strict";n.d(t,{I:function(){return c},db:function(){return l}});var r=n(5236),a=n(5735),s=n(9842);let i=(0,r.ZF)({apiKey:"AIzaSyBWn8c0M720lkYXMXUOJHDQIDQop62UM8A",authDomain:"railway-facial-tracking.firebaseapp.com",projectId:"railway-facial-tracking",storageBucket:"railway-facial-tracking.appspot.com",messagingSenderId:"413502630264",appId:"1:413502630264:web:c4b4249d43ecdfbd5ac08d"}),l=(0,s.ad)(i),c=(0,a.v0)(i)}},function(e){e.O(0,[358,898,990,645,682,971,23,744],function(){return e(e.s=4816)}),_N_E=e.O()}]);